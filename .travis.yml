sudo: required

language: generic

git:
  depth: false

dist:
  xenial

cache:
  directories:
    - $HOME/.m2

services:
  - docker

before_install:
  - docker pull moussavdb/build-java

env:
  global:
  - secure: fWjnVZPHYzY3QCVUK3yFM6r3KsJ7gcAzbJ42SJ2sgGemIbzC1zLK7ueVrspJ69fFTvz67Cf4NRolx0/d7gQjd4xkT7s8y1saHMcWEVSGFoZnfNa6wy3po1mk6AQViEAW/OkIg4CcrADzz8zaDpGTE0lE4lTiQg4RFAx3u0NSueWWSrgLlAoI/tN9x3Zs+cppG2KR5ayDkkkBIVxkG3sth/EDksIzBtfvmY+jCLgjyP8EOxL08/VGoQldCPgqmA31fsMMNQ/UjbOpvon9aJlIG5oXoVDS9i+kA0O7fAB8Yl7+VN7puLzBXpSjZtCY5ORI7cnepRzLKKX1FFidi68PapgNg+CefTiB2gdsdRVBdGGc+AS+q2Yqd8Xu5NPbXaEd7oK2osDKYCQHTGBSJnqpac7nP+2O1IV+Jogs9Fe8fyZ2iUm6yxnEoiRfAb2XCfP1a6Dn4jHx0sYXp/yDpy0746zSTHZARlQcMGVL27QZ4RIOZMkseeKeW+IIWw6IlTuaaYD2XpUdxmts9fSjsPjaLXCU1IQ3ZbE1kUBfGgsyBig2pHoHWpvATO/t79Bwrf8HVezse4CCaVDnwp2P/nw8J6P0ndPMvb1p5W9YgOzkyh8CAsT6QaJZ7PVaD0OPgV7/ojFck7Mz5ZrWvGli4HxUvVgV3G7oGKGyyN23NCXCHEk=
  - secure: f3e7QBdAfSGq1+sEHa3f5iRcUPTfd3XugJJKIBaHqAMGZT2kmMIEeZYfsfkROINAKNRnMzSGxisED456pRmxtOBR5Z6FToyU+AZEWarqZHjxGZw2lT2KqLefuQVU9UKQ+AcKXKbZ49mGY9hbR06xR+/BwLxc0J493GrlnOmcR4zMQXBxvjb1nQNd/sweTSbOsZa4sB6T8+3JqTALu0SnJ/gHmlxZKNfTNBZ0bKJvm05XF+2y+5iZ/3u2mwBRDc6Uv1wDdEWKHzjaDn/a7iD8b50C/nowN/cikD8eJ7izqbuwfUCe1dV7a58cQ5VpLZlf5YZya2HZ4d6ChXy/h9M52k3bS903oiNi9zs1VIboSudjeGPGWBcGP+xVZ/wtFFhl7306mxE7AIs/uHzNY5fB9AbI70OAP4cbZalF8K5eLxe7ZBB6hB3JoFhihJw7H16REphS+ziS/OLKBRSByccGX6L7E5s4C7d/hgGmq5EG+vQlIZpiV/38zYx5Q5cQBOt/Cpw9sQLxBXg0UdGlgYFkjjsuSBkbowYFJ0LxxtArbuwaegSRpdLCNJolTpqWj7dKMxTqEmol1+jMtiSIrTQSoWA6VHo906YYRQvMFFW80JZL/uOS2Ys2LDgp3J1e88K2/GYsI4x03tgsgEWW4o6MUwi1fW4Y6mcIEoRk7IoLO9w=
  - secure: km+Nu1i54xqI2PakVRn2EOcC4YtTSRCXVNvjRKejoQTtPl31Cg4T+tTwtTB5nu7QYebs6clNqXFsXUyLAD2UOO7OgAFOwO9L1VCXxCmXJEje6CahA9LNI0UEwtpg4aYDhcnlln8Yzvb24xfG+39IzHfoXvw3W/ObPkBeM+U++fZ1vgxIFR5kZ3cvU6Mfew7mYyj6bnwHRzk+PY3Xf3CQ+o70BOXfu1IlqcKQUlpZ4H5BsbmKJoABzd3SwEWVWcCg56KRoBVbXea88NZeW6DnGSL8YxR3GTfYNWhlOhnyb9Yqn7hx5N7Ob8GddjAiF/+001VAWiDJKkZ9QYnIjjbmNXOVoftS98wNSqQeqvksInxtqaKRZ4FOLJ1QSvjZK6jLSaiwVo1gutvbNLJQdt1NDxjHg9NOcaYklKPP5gJ2XjpjIrxNd9ePREfXLsbF+WRukvgHxhRzX9vy8MqrWhIaoZ51nVlWgax6Ky8MFWO0e519YihCJaF2TNUjVRq+WrRm1/PVrmAOouLohPN7wpmtd5BCF+uOQlEslJUIarMrx3531k34VPpjAsKZdfSHvfw2jSRK5Yrxi3237ZNVig5qg6/b5lJR89PX8hhRTMNkFR9z6xTxlOuRiLI83hsc1KS7MWtcO1/OQMKuRecM5wj1Mh12lAT1Y7Iix5aO5kU+970=
  - secure: HdmZY8HioSJDI/v3wF3G/dOfDm+3ywyzxW6t5OkVi/BQz5qjNUQhvUHeuET+O/8avYxlQlycApQ0/Ef9bDbQ7ML7E6tf0/Lk8oSfzt2uQO8V100JyM6FWAu7ABsIqliYca43EhKwFrBdLdME3lCWTGeF4qET6QfQd2pH3bXY/pGeTH1RxJ4kMciskw6VkZTW2GSRNcyiKgG9jA4EovN9cXrX/ROcpzdhpxFoSA5VVxSgP0XLkwas1p7z5UKOrG2w8hoIjPzbiLx8YZ5yC+2fBrbWNq4PLYEX2wzehthnJqlJG44h9/MAXOJZmswxv8KgboUexU5LKfYan2fNXOSoINYYPbjbmcxfxSDjQHBNPtzawBiTDuppyivs5PDwpxLsHrGEjgVsKHpchpVdD79xuMMwJg4vnSJ1OqOFpRgqCctYaCzPQu3bJXQCBgdl5T/j8zl2LvmXYrcaCIHN6DxssbPu9xX5LjyDxq79MhM1lnL3D0K1Voj91p+IMoTYK7JroE2xL6/owXQm95pwGXUfflB98uXoboe+1RdqJAO+e8eIsQ/dpj1s4L3DSCOH6HdiUIhjpF0g/2Ec4isRNi5/mPbrAoCa6Cyf8UTzSspW+JvwXplK9rsxMXz1fJr/P3ETxNzyWbjB73x/J1rDb6Qhouyu5Z/gIGeCZTvPNW05b8U=
  - secure: CpkkQ7DZLsx4Zp5e8NcZq2WSlFXQzHBmKr/unaMWRhAeWCTPufrSYncVPIVNRBqzmlsIN4+R4Z6TZ1FtbnQoiLzfdHNCK7uwPAbktTIzhgInXSsRCgpAhxksvvfEiln2m1RYJLYCDk2hlM53CMnPZJmCHKydIO0iLK7VP8h7owKflDo8VJz5Te35zGDxgcz8c7+Jl/H/8oc3obT9QRbtsGVepD6rD3WZDjVszzR7dTtUocAqhcFx/vJeFIc8Rvg/k+HUAXng+MBR7ErIQaZY7uh2Yp0y3Oulra5mMH/uy5zop3ht+rTTg47EUcFedOohb+Z3WB2fDR9fx0b7bugaNreLbsbX6fBv8uTiwGJ9jmvLpaIiZPO+thL0GCMB+3utjI2wvoGG8f+gxDrFu7svq+VJ61abjluHyKyfcgmj+P3uMRtTVAEkvHFhuaBIq2Lq8uZQpFp2RnvaP8szlegbQs+b6HkK6JTnHtHLwXJl5uNXR1AJpcRT2OnpoB7k8MPc3CYVE2SZ1KSM4rg3FK88clzA7IrUHpdiblS+On3mr9elHP+Hm3L4ZsywIltCrjlBqtHrYocyy6GPRAdGkuLoWufQE8KCTWBSjvewxIyguR6cKJAbKXbc41nLDAXHC5DZ+vYg1SZh0ohwDFvAUzTexMSsdyxnXGq2ydn/SdNXuZA=
  - secure: Apm1AIMvoM/06i+8KDkJfnck++IEJBRRwrWL1HN0TittaGH5Jil/565+Q+SwtmaWy8rYr1ZK1uldMCRErc4WLTEPOKqNIcF5lmEsGxmm0lvebRPzZPoPql6upnfB+ivcUpujPEENSDa4iMBzIAtSnFBY2pHdMYzzW28iPKojBdVK7WTQfJokiPieiUq55BaeD9EkwclsPvWzUWT/a2qHqJn3xVywPQ320zwIr+99ijI4YnWp1gG9czUZOKs37KyLx7dJn6jNUY3/Z1hxwaD5tC2N0k5cANzr+ZbUqeHriuP1CQMmsdIKfMCyLoWWSf0axWwoFBSV35ilGzP6YU1yrYFwp+1yy0B+JVGwN7Bb2jaCfbNz7d73u8fXoEiSHdV+pr0GlN11mhkmwoaqtmHixzaIPj1yCqzryoMNW+/OGpfvBseGd5kiT2TkkV6IzOyRact3X8lwm9KIQN2GjtHAGcXl3fjMRx0wWJGUcaBbcOZ69OQM7D3wtH65FXJ4/+tAqSoI8v9kPBj4+fXcyD6jI/KngyKRt0gZeWOIRTZv0yXhpQM8IPijraL49rrsJviXs8ujuZmdOw9B/VHHjMGbPUQ59IlEMXzOF4PYuZZkoJvDjBzBlcp8nPlVnRUbFe7nEAWUn4JDPin/e7nT265wzUMCqnukb7ZnigkttfFobCY=
  - secure: QFgLbgncIn4INTEsO7ZQQx7EHcYBh4s5cmqqc6yDrfMkU23E6b10BUVQ4eoIKXRoIXqyJ0XcxPwLzb1u5BXXO8Fjw5BHI37PQFr/qtjC74e7dWkanUi6PejHWGHhpLbi0zL76kgxdARKKnfNf22401by4OX5oyZjORLQgfmnA3Wg+ngatkQYE3ROu+sB3PRsYoypbizC9oQK+XfUVicW3WejVLFecHcOgD4oTBMUtULR4ZIRMAg1KzKBYF2jrPfn/7YwB7qQkFH7hY4JAirH/15/a5pems2/17wna856HTjNmeMQ1JmFncQEEYGXTHnFAZdv8uwJV/asOLde3YVmUpNxskwu4NpqOjKk1htGEBJiHhgquxIrvJhORWfyIRRRc4VSm4Xap+bTrHfcWgQx/07W24AeawoncDIMXtmFgg31wiYkIbapvIS/SrjCbS3nvUAZcvi1iLXk81MHoXVMZNc/JqrWKNb+jfuqiITFoM+wdIqZZ2SglJ4yEQy7sdSYdl+RI6Rci7icUy/S95CaOLNVitpuBPN4t/4OztwmYC6Hok3ckTk/RS16wAmUATmWhXUQST+IYFyxfMmVYg/3astMwZK7lf1erVt4ABWn0fcQBmo6nZBQM+bbgtV5xC9VefSKEpwDvjugQA3hWXKskAyyw+Cyl0/z2AeBsUrAQ3Q=
  - secure: VRcY4J5XVDH+73tLxGiAM4JjsPsxkOiyAhNHNqfx9sPezVuhLjkSEIqm3FPOcQlaDJucTXQ+ExTUadENITlnJisfbYCvzWT0J+syglMoS6AtC5UWmOgvC8UEO9rCdcPOWR4+OgJpxbVD86J+lZ5DpMRiWGYJ3kZl/LcNbiHPAri8IvxzW9QDM7gCSgsqC3WmzvNNfWMf2GVbRNn+jwanKABKgj0+wEkh6MyAG9EUuFKMOhVYmtxbKkUOljYnFQj6vD/5EnV95NMzx3eXZKFkKB98hsVGmdRjcyjTxv7U6kit1bK73Iq/+NE547BXbZI4Jy5+k4/7Qx/ioTYlA2UPBirKTPtX3Wu1HCkzA3FmrZhuOAp2BeEYDJYON/mkbzN+JWWe3SNysBbt/PulYvqoTboB5JHRQjy/IV45FyZI1kB2eiQQsy97LPKx5FvqmVqGwgt4Oi1/BI5yvX0/wYj3tQQp4KS490aNge/uGfMwHk2rklLuyHaRJvIapJAJLmTuLzgpdNaSeSGcweKpEdoBLbK6C/kUJwsQAjMHyPvGnwHWgJDNBilA75TcrPiQEpo2a4jyAcLUCTzDS7HsQqPECEA73dBBkVbsecBYpSF+utH7U3zB650u3j0qJxaje5wfyndVt8QztfwCuOCShEYAkZOdR5PytF38aRvGo1/gSEU=
  - secure: Yr58epgultIXU7IvlDFETOIsnbRMYvxyqIAXqtUmH7QMlqrEtBpopB/ALyGDSB25Fw8VnCcTQHGt3Ud2EtsMjlO6Ysd5LS8b7Z2UNztGKBkHrDuZ88WGkjAMhkZAHmW+ddUN/c9R3USqb7bnyv1yMKzJuQ8rqIdXHh3BiWa/cLjSCBUhfOxsn5aquhHVdL37P3GPZdFVwpE3jEeQWpzquqbaQMBj6IiOw1AK5xhap/m9uLMXgE63KJzTcW04YXPSdP3stCxu+yn9cdySR1KsxV7XoBweHdU6+fzPCwL2Bgtxu8r5yjg21BwisFJQuvyearBJ/tysLaQUXWYw2cExlnA59bhHAlnmYjuSXp1SdVvCW1jtWa+OJrqmw9mI4oh8V6NwZxE2uUZNyhHYE0DMP/ProEsGDehRPEMspNtK7b487/T/zuVzTkrZ1VbdhrRsSnaCM+lvsCeQBb4plfqylIfH0JqPvNuiqgLY6u0Jm61y/zHyGOSaar4n+F8Ek2oLZfLugONZ6+LiFvuv0HKoVeZhk3G+56LwaG/a/7cH6XIimIXeRvt+HEM/816tBL7wwZk1W62iwFA3UyvdtFvnSnCeC0ycOjUhA5YVtuwWI2wZAcF3zCEvcX3q37n1eFklkVXOU9KtgSmIm8mgw3Lz+C1zV8rBZv9fQZ7JjeVjvr0=

script:
  - chmod 777 deploy-maven-central.sh
  - docker run -v $PWD:/src -v $HOME/.m2:/root/.m2 -e USER_REPO=$USER_REPO -e USER_PASSWORD=$USER_PASSWORD -e BRANCH=$TRAVIS_BRANCH -e OPENSSL_PWD=$OPENSSL_PWD -e GPG_PWD=$GPG_PWD -e GPG_KEY=$GPG_KEY -e OSSRH_USER_TOKEN=$OSSRH_USER_TOKEN -e OSSRH_PWD_TOKEN=$OSSRH_PWD_TOKEN -e SONAR=$SONAR -e SONAR_ORGANIZATION=$SONAR_ORGANIZATION moussavdb/build-java ./deploy-maven-central.sh
